<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"	
	xmlns:p="http://primefaces.org/ui">
	
<h:head>
	<title>Trans-BSI Nerd Airline - Corporativo</title>
	<link rel="stylesheet" type="text/css" media="screen" href="#{request.contextPath}/static/css/tela.css" />
</h:head>

<h:body>
	<div id="page-top-outer">
		<div id="page-top">
			<div id="logo">
				<a href=""><img src="#{request.contextPath}/static/img/logo.png" /></a>
			</div>
			<div class="clear"></div>
		</div>
	</div>
	<div class="clear">&nbsp;</div>

	<div class="nav-outer-repeat">
		<div class="nav-outer">
			<div id="nav-right">
				<div class="nav-divider">&nbsp;</div>
				<div class="showhide-account">
					<img src="#{request.contextPath}/static/img/shared/nav_myaccount.gif" width="93" height="14" alt="" />
				</div>
				<div class="nav-divider">&nbsp;</div>
				<a href="" id="logout"><img src="#{request.contextPath}/static/img/shared/nav_logout.gif" width="64" height="14" alt="" /></a>
				<div class="clear">&nbsp;</div>
			</div>
			<div class="nav">
				<div class="table">
					<ul class="current">
						<h:outputLink value="index.jsf" >
							<p:graphicImage value="#{controlBean.imgBotaoPoliticas}"/>
						</h:outputLink>
					</ul>
					<div class="nav-divider">&nbsp;</div>
					<ul class="current">
						<h:outputLink value="checkinpassageiro.jsf" >
							<p:graphicImage value="#{controlBean.imgBotaoCheckinPassageiro}"/>
						</h:outputLink>
					</ul>
					<div class="nav-divider">&nbsp;</div>
					<ul class="current">
						<h:outputLink value="consultarvoos.jsf" >
							<p:graphicImage value="#{controlBean.imgBotaoVoos}"/>
						</h:outputLink>
					</ul>
					<div class="clear"></div>
					<c:if test="#{loginBean.gerente == true}">
						<ul class="current">
							<h:outputLink value="gerenciamento.jsf" >
								<p:graphicImage value="#{controlBean.imgBotaoGerir}"/>
							</h:outputLink>
						</ul>			
					</c:if>		
				</div>
				<div class="clear"></div>
			</div>
		</div>
		<div class="clear"></div>
	</div>
	<div class="clear"></div>

	<div id="content-outer">
		<div id="content">
			<div id="page-heading">
				<h1>Consulta de Voos</h1>
			</div>
			<table border="0" width="100%" cellpadding="0" cellspacing="0"
				id="content-table">
				<tr>
					<th rowspan="3" class="sized"><img
						src="#{request.contextPath}/static/img/shared/side_shadowleft.jpg" width="20" height="300"
						alt="" /></th>
					<th class="topleft"></th>
					<td id="tbl-border-top">&nbsp;</td>
					<th class="topright"></th>
					<th rowspan="3" class="sized"><img
						src="#{request.contextPath}/static/img/shared/side_shadowright.jpg" width="20" height="300"
						alt="" /></th>
				</tr>
				<tr>
					<td id="tbl-border-left"></td>
					<td>
						<div id="content-table-inner">
							<div id="table-content">
								<h2>Nesta seção é possível consultar os voos e seus respectivos status</h2>
								<h3>Filtro:</h3>
									<h:form id="formFiltro">
										<p style="line-height: 40px;">
											<h:outputText value="Data Inicial do Voo: "/>
											<h:inputText id="filtrodatainicial" value="#{controlBean.dataCalendarioInicio}" maxlength="8" styleClass="inp-form" />
											<h:commandButton value="ok" action="#{controlBean.aplicaFiltro}" />
										</p>
										<p style="line-height: 40px;">
											<h:outputText value="Data Final do Voo: "/>
											<h:inputText id="filtrodatafinal" value="#{controlBean.dataCalendarioFinal}" maxlength="8" styleClass="inp-form" />
											<h:commandButton value="ok" action="#{controlBean.aplicaFiltro}" />
										</p>	
										<p style="line-height: 40px;">
											<h:outputText value="Cidade de Origem: "/>
											<h:inputText id="filtrocidadeorigem" value="#{controlBean.cidadeOrigem}" maxlength="8" styleClass="inp-form" />
											<h:commandButton value="ok" action="#{controlBean.aplicaFiltro}" />
										</p>
										<p style="line-height: 40px;">
											<h:outputText value="Cidade de Destino: "/>
											<h:inputText id="filtrocidadedestino" value="#{controlBean.cidadeDestino}" maxlength="8" styleClass="inp-form" />
											<h:commandButton value="ok" action="#{controlBean.aplicaFiltro}" />
										</p>										
									</h:form>
							        <h:form id="formTabela" >
							            <p:dataTable value="#{vooBean.voos}" var="voo" rowKey="#{voo.id}" emptyMessage="Nenhum produto encontrado!" style="margin-top: 5px;" >
							                <f:facet name="header">
							                    <i>Clique na Lupa para verificar o Status Atual do voo selecionado.</i>
							                </f:facet>
							                
							                <p:column headerText="ID" style="text-align: center; width: 40px;">
							                    <h:outputText value="#{voo.id}"/>
							                </p:column>
							                
							                <p:column headerText="Data / Hora" style="text-align: center; width: 40px;">
							                    <h:outputText value="#{voo.dataHora}"/>
							                </p:column>
							                 	
							                <p:column headerText="Piloto" style="text-align: center; width: 40px;">
							                    <h:outputText value="#{voo.piloto}"/>
							                </p:column>
							                
							                <p:column headerText="Origem" style="text-align: center; width: 40px;">
							                    <h:outputText value="#{voo.origem}"/>
							                </p:column>
							                
							                <p:column headerText="Destino" style="text-align: center; width: 40px;">
							                    <h:outputText value="#{voo.destino}"/>
							                </p:column>
							                
							                <p:column headerText="Vagas (1ª Classe)" style="text-align: center; width: 40px;">
							                    <h:outputText value="#{voo.quantidadeAssentosPrimeira}"/>
							                </p:column>
							                
							                <p:column headerText="Vagas (Classe Econômica)" style="text-align: center; width: 40px;">
							                    <h:outputText value="#{voo.quantidadeAssentosEconomica}"/>
							                </p:column>
							                							                
									        <p:column headerText="Visualizar" style="text-align: center; width:4%">  
									            <p:commandButton id="btnSelecionado" icon="ui-icon-search" title="Visualizar Status" action="#{vooBean.statusVoo}">  
									                <f:setPropertyActionListener value="#{voo}" target="#{vooBean.selecionado}" />  
									            </p:commandButton>  
									        </p:column>  
							            </p:dataTable>
							        </h:form>    
							</div>
							<div class="clear"></div>
						</div>
					</td>
					<td id="tbl-border-right"></td>
				</tr>
				<tr>
					<th class="sized bottomleft"></th>
					<td id="tbl-border-bottom">&nbsp;</td>
					<th class="sized bottomright"></th>
				</tr>
			</table>
			<div class="clear">&nbsp;</div>
		</div>
		<div class="clear">&nbsp;</div>
	</div>
	<div class="clear">&nbsp;</div>
	<div id="footer">
		<div id="footer-left">Trans-BSI &copy; CopyRight. <a href="">www.fesppr.br</a>.Todos os direitos reservados.</div>
		<div class="clear">&nbsp;</div>
	</div>
</h:body>
</html>